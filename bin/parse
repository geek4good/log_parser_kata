#!/usr/bin/env ruby

require "log_parser_kata"

log_file = ARGV.first
File.exist?(log_file) or exit(false)

parser = LogParserKata::Parser.new(File.read(log_file))
formatter = LogParserKata::Formatter.new(
  total_views: parser.paths_by_total_views,
  unique_views: parser.paths_by_unique_views)

puts formatter.to_s
